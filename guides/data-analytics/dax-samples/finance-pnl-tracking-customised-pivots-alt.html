<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-176158185-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-176158185-1');
</script>

		<title>Finance - P&L Tracking – Customised & Nested Pivot Tables - Alternative | StarBase </title>
		<!-- link to website tab icon -->
		<link rel="shortcut icon" type="image/x-icon" href="/../docs/assets/images/alt-logo-star-tilted.png">
		<!-- link to Main Stylesheets -->
		<link rel="stylesheet" type="text/css" href="/../docs/assets/css/styles.css">
		<!-- link to Google Fonts -->
		<link href='https://fonts.googleapis.com/css?family=Zilla Slab' rel='stylesheet'>
		<link href="https://fonts.googleapis.com/css2?family=Marcellus&display=swap" rel="stylesheet"> 
		<link href="https://fonts.googleapis.com/css2?family=Source+Serif+Pro&display=swap" rel="stylesheet"> 
		<link href="https://fonts.googleapis.com/css2?family=Fraunces:wght@200..400&display=swap" rel="stylesheet">
		<!-- link to Font awesome -->
		<script src="https://kit.fontawesome.com/378306bc97.js" crossorigin="anonymous"></script>
		<!-- link to Material Icons -->
		<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
		<!-- link to Iconify CDN -->
		<script src="https://code.iconify.design/1/1.0.7/iconify.min.js"></script>
		<!-- link to UUID -->	
		<script src="https://cdnjs.cloudflare.com/ajax/libs/uuid/8.1.0/uuidv5.min.js"></script>
	</head>
	<body>
		<a id="top"></a>
			<!-- Header Holder --> 

<div class="header-holder has-default-focus"
  
  >
    <div class="nav-bar">
        <!---->
        <a class="nav-bar-button has-padding-left-medium has-padding-left-none-tablet" href="https://sachin1882.wixsite.com/startechenterprises/guides" title="Go to parent site: StarTech Enterprises">
            <div class="nav-bar-logo has-background-image">
                <img src="https://fontmeme.com/permalink/200623/587d8aec23ed76c10e0b1ec43bc85f23.png" class="alt-logo has-background-image" width="180" height ="70">
                <div class="overlay">
                    <img src="/../docs/assets/images/starbase_logo.png" class="nav-bar-logo">
                </div>
            </div>
        </a>
        <nav class="nav-bar-nav">
            <ul class="nav-bar-nav-list">
                <li class="nav-bar-item is-category has-spacing">
                    <a class = "nav-bar-button title has-hover-underline is-6 
                    
                    
                    " href="/docs/">
                        <span>
                            <!---->
                            Docs
                            <!---->
                        </span>
                    </a>
                </li>
                <li class="nav-bar-item">
                    <a class = "nav-bar-button has-hover-underline 
                    
                    underline
                    
                    " href="/docs/">
                        <span>
                            <!---->
                            Guides
                            <!---->
                        </span>
                    </a>
                </li>
                <li class="nav-bar-item">
                    <a class = "nav-bar-button has-hover-underline 
                    
                    
                    " href="/docs/articles-and-blogs/article-search.html">
                        <span>
                            <!---->
                            Articles & Blogs
                            <!---->
                        </span>
                    </a>
                </li>
                <li class="nav-bar-item">
                    <a class = "nav-bar-button has-hover-underline" href="/docs/videos/">
                        <span>
                            <!---->
                            Videos
                            <!---->
                        </span>
                    </a>
                </li>
                <li class="nav-bar-item">
                    <a class = "nav-bar-button has-hover-underline 
                    
                    
                    " href="/docs/about/about.html">
                        <span>
                            <!---->
                            About
                            <!---->
                        </span>
                    </a>
                </li>
            </ul>
        </nav>
        <span class = "nav-bar-spacer i-hidden-mobile"></span>
        <!---->
    </div>
</div>


<div class="header-holder transparent has-default-focus" style="position: sticky; top: 0; left: 0; right: 0;">
    <div class="content-header uhf-container has-padding has-default-focus is-flexbox" style="padding-top: 0px; padding-bottom: 1px;">
        
<!-- Get correct Breadcrumb Links from Front Matter of loaded page-->

<!-- Liquid Code -->
    <!-- Page Root -->
    

    <!-- Page Type -->
    

    <!-- Page Category -->
    

    <!-- Page Series -->
    
<!-- / End of Liquid Code -->


<!-- Breadcrumb Links --> 
<nav class = "has-padding-none has-padding-left-medium-tablet has-padding-right-medium-tablet has-padding-left-none-uhf-tablet has-padding-left-none-uhf-tablet has-padding-none-desktop has-flex-grow">
    <ul id="page-breadcrumbs" class="breadcrumbs">
        <li><a href="/docs/"><span class ="">Docs</span></a></li>
        <li><a href="/docs/"><span class ="">Guides</span></a></li>
        <li><a href="/docs/guides/data-analytics/data-analytics.html"><span class="">Data Analytics</span></a></li>
        <li><a href=/docs/guides/data-analytics/data-analytics.html><span class="">DAX Samples</span></a></li>

        <!-- This part needs to be generated by JavaScript-->

    </ul>
</nav>
<!-- end of / Breadcrumb links -->




        <!-- Page Functions --> 

<div class="has-padding-none-tablet has-padding-medium is-size-7 is-flex-touch has-flex-justify-content-space-between-touch has-flex-grow">
    <ul class="is-hidden-mobile action-list has-flex-justify-content-end-tablet is-flex is-flex-row has-flex-wrap has-flex-grow is-unstyled">
        <li>
            <button class="print button is-text has-inner-focus is-small is-icon-only-touch colorfill" type="button" title="Print this page" onclick="window.print()">
                <span class="icon">
                    <span class="iconify extra-small" data-icon="el:print" data-inline="false"></span>                </span>
                <span class="is-visually-hidden-touch is-hidden-portrait">Print</span>
            </button>
        </li>
        <li>
            <button class="button is-text has-inner-focus is-small is-icon-only-touch colorfill" title="Send feedback about this page" onclick="location.href='#feedback'">
                <span class="icon">
                    <i class="fas fa-comments"></i>
                </span>
                    <span class="is-visually-hidden-touch is-hidden-portrait">Feedback</span>
            </button>
        </li>
        <li id="share-menu-link">
            <div class = "sharing dropdown has-caret">
                <button class="dropdown-trigger button is-text is-fullwidth has-flex-justify-content-start has-inner-focus is-small is-icon-only-touch colorfill" title="Share This Document">
                    <span class="icon">
                        <span class="iconify extra-small" data-icon="ls:share" data-inline="false"></span>
                    </span>
                    <span class="is-visually-hidden-touch is-hidden-portrait">Share</span>
                </button>
                <div id="sharing-menu" class="sharing-menu has-padding-small is-hidden">
                    <ul>
                        <li id="twitter-link">
                            <a class="button is-text is-fullwidth has-flex-justify-content-start has-inner-focus is-small share-twitter" href="" target="_blank">
                                <span class="icon effect">
                                    <i class="fab fa-twitter colorfill"></i>
                                </span>
                                <span>Twitter</span>
                            </a>
                        </li>
                        <li id="linkedin-link">
                            <a class="button is-text is-fullwidth has-flex-justify-content-start has-inner-focus is-small share-linkedin" href="" target="_blank">
                                <span class="icon effect">
                                    <i class="fab fa-linkedin-in colorfill"></i>
                                </span>
                                <span>LinkedIn</span>
                            </a>
                        </li>
                        <li id="facebook-link">
                            <a class="button is-text is-fullwidth has-flex-justify-content-start has-inner-focus is-small share-facebook" href="" target="_blank">
                                <span class="icon effect">
                                    <i class="fab fa-facebook-f colorfill"></i>
                                </span>
                                <span>Facebook</span>
                            </a>
                        </li>
                        <li id="email-link">
                            <a class="button is-text is-fullwidth has-flex-justify-content-start has-inner-focus is-small share-email" href="" target="_blank">
                                <span class="icon effect">
                                    <i class="fas fa-envelope colorfill"></i>
                                </span>
                                <span>Email</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </li>
    </ul>
</div>

<!-- end of / Page Functions -->
    </div>
    <div class="progress-container">
        <div class="progress-bar-scroll" id="myBar"></div>
    </div>
</div>

<!-- end of /.header-holder -->
			<!-- Main Container --> 
<div class="mainContainer uhf-container  has-top-padding ">
    <div class="columns has-large-gaps is-gapless-mobile ">

        
        <!-- Left Hand Side Tree-->
        <div class="left-sidebar column is-hidden-mobile 
         
        is-one-fifth-tablet is-one-seventh-desktop 
        ">
            <nav class ="is-fixed is-flex is-flex-column" id="affixed-left-sidebar">

                <!-- Include LHS Menu -->
                
                <a href="../data-analytics.html">
                    <span id="earlierPage" class="is-primary">
                        <span class="iconify medium" data-icon="ic-sharp-arrow-back" data-inline="false"></span>
                    </span>
                </a>
                
            </nav>
        </div>
         <!-- end of /left hand side tree -->
        

        <!-- Primary Holder -->    
        <div class="primary-holder column 
        
         is-four-fifths-tablet is-six-sevenths-desktop 
        ">
            <div class="columns has-large-gaps is-gapless-mobile 
            
            ">

                 <!-- Main Column -->
                <div id="main-column" class="column 
                 
                is-full is-four-fifths-desktop 
                ">
                    <main id="main" class ="
                    
                        content docs
                    " lang="eng-us">
                        <h1 id="finance---pl-tracking--customised--nested-pivot-tables---alternative">Finance - P&amp;L Tracking – Customised &amp; Nested Pivot Tables - Alternative</h1>
<time class="metadata" style="text-alstyleign:left"> Guides • Data Analytics • 29/03/2021</time>

<div class="has-margin-top-medium">
  <p><a class="button is-small is-primary no_icon" href="https://1drv.ms/x/s!Ahu8OSSAtOMzmGynDZRpa4GZm-pt?e=NZ8kk0" target="_blank">
    <span>
        Download Sample
    </span>
    <span class=" has-margin-left-small material-icons">
        cloud_download
    </span>
</a></p>
</div>

<h2 id="finance---pl-tracking--customised--nested-pivot-tables">Finance - P&amp;L Tracking – Customised &amp; Nested Pivot Tables</h2>

<p>In this sample, we track Actuals against Budgeted amounts, for each P&amp;L line, showing variances too, in a Pivot Table. Here, we add the condition of showing additional lines such as ‘Gross Profit’, ‘Operating Income’, that do not appear in the source GL data, and other derived measures such as Cost of % of Net Sales, and Op. Profit as % of Net Sales.</p>

<p>This example is like the example shown here, except the DAX formula in this example calculate the results in a more generalisable and flexible form.</p>

<h2 id="data-inputs">Data Inputs</h2>
<p>This sample takes the following data inputs:</p>

<h3 id="dimensions">Dimensions</h3>

<p>This dimension tables will be determined by the current structure of the business</p>

<figure>
    
        <img class="docimage" src="images/finance-pnl-tracking-custom-pivot-alt-1-data.png" alt="" style="width: 100%; max-width: 79.1%" />
    

    
    <figcaption style="text-align: center; color: #5e5e5e; font-size: 0.9rem;">
        <i></i>
    </figcaption>
    
</figure>

<h3 id="accounts-structure">Accounts Structure</h3>

<p>This is where we define the layout and mappings of each P&amp;L line to Headers, and SubHeaders, using a pre-defined numbering system (i.e. the Chart of Accounts)</p>

<figure>
    
        <img class="docimage" src="images/finance-pnl-tracking-custom-pivot-alt-2-data.png" alt="" style="width: 100%; max-width: 79.1%" />
    

    
    <figcaption style="text-align: center; color: #5e5e5e; font-size: 0.9rem;">
        <i></i>
    </figcaption>
    
</figure>

<figure>
    
        <img class="docimage" src="images/finance-pnl-tracking-custom-pivot-alt-3-data.png" alt="" style="width: 100%; max-width: 79.1%" />
    

    
    <figcaption style="text-align: center; color: #5e5e5e; font-size: 0.9rem;">
        <i></i>
    </figcaption>
    
</figure>

<h3 id="general-ledger">General Ledger</h3>

<p>The GL here contains both the Actuals and Budgeted data for each month, so both datasets are already available to us in a nice business and user friendly format, in the same table.</p>

<figure>
    
        <img class="docimage" src="images/finance-pnl-tracking-custom-pivot-alt-4-data.png" alt="" style="width: 100%; max-width: " />
    

    
    <figcaption style="text-align: center; color: #5e5e5e; font-size: 0.9rem;">
        <i></i>
    </figcaption>
    
</figure>

<h3 id="pl-tracking-measures">P&amp;L Tracking Measures</h3>

<p>The following specific measures are shown:</p>

<ol class="lower-roman">
  <li><strong>Actuals</strong></li>
  <li><strong>Budget</strong></li>
  <li><strong>Variance $</strong></li>
  <li><strong>Variance %</strong></li>
</ol>

<h2 id="dashboard---snippet">Dashboard - Snippet</h2>

<p>Unlike most of our other samples, the final output here in presented in Excel itself, rather than through a Power BI dashboard – which is great for visuals, but not as flexible or sophisticated with tables. When it comes to just pivot tables, it is a matter of preference (in Power BI, these are called Matrix Tables).</p>

<p>The final file can also be downloaded here, if you would like to review the formulae in detail:</p>

<p><a class="button is-small is-primary no_icon" href="https://1drv.ms/x/s!Ahu8OSSAtOMzmGynDZRpa4GZm-pt?e=NZ8kk0" target="_blank">
    <span>
        Download Sample
    </span>
    <span class=" has-margin-left-small material-icons">
        cloud_download
    </span>
</a></p>

<div class="img-wrap">
  <figure>
    
        <img class="docimage" onclick="showImage('finance-pnl-tracking-custom-pivot-alt-1-db.png');" src="images/finance-pnl-tracking-custom-pivot-alt-1-db.png" alt="" style="width: 100%; max-width: " />
    

    
    <figcaption style="text-align: center; color: #5e5e5e; font-size: 0.9rem;">
        <i></i>
    </figcaption>
    
</figure>
  <div class="img-hover-description-layer">
    <p class="img-hover-description">Click to view large-sized image</p>
  </div>
</div>

<!-- ************************************************ -->

<!-- The Modal -->
<div id="myModal" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
    <div class="modal-header">
      <h4>Finance - P&amp;L Tracking – Customised &amp; Nested Pivot Tables Alternative</h4>
      <p><span class="close">
×
</span></p>
    </div>
    <div class="modal-body">
      <!-- image inserted with JavaScript -->
    </div>
    <div class="modal-footer"></div>
  </div>
</div>

<!-- ************************************************ -->

<h2 id="data-model---snippet">Data Model - Snippet</h2>

<p>The final data model used is shown here:</p>

<div class="img-wrap">
  <figure>
    
        <img class="docimage" onclick="showImage('finance-pnl-tracking-custom-pivot-alt-1-dm.png');" src="images/finance-pnl-tracking-custom-pivot-alt-1-dm.png" alt="" style="width: 100%; max-width: " />
    

    
    <figcaption style="text-align: center; color: #5e5e5e; font-size: 0.9rem;">
        <i></i>
    </figcaption>
    
</figure>
  <div class="img-hover-description-layer">
    <p class="img-hover-description">Click to view large-sized image</p>
  </div>
</div>

<h2 id="measures">Measures</h2>

<h3 id="sum-gl-amt">SUM GL Amt</h3>

<div class="copy-code-container">
  <span class="language-name" aria-label="Language name: DAX">DAX</span>
  <button class="copy-code-button" aria-label="Copy code block to your clipboard" data-code="
SUM GL Amt :=
SUM ( &#39;General_Ledger&#39;[Amount] )
">
  </button>
</div>
<pre><code class="language-DAX">SUM GL Amt :=
SUM ( 'General_Ledger'[Amount] )
</code></pre>

<h3 id="gl-amt-additive-amts">GL Amt (Additive Amts)</h3>

<div class="copy-code-container">
  <span class="language-name" aria-label="Language name: DAX">DAX</span>
  <button class="copy-code-button" aria-label="Copy code block to your clipboard" data-code="
GL Amt (Additive Amts) :=
SUMX ( VALUES ( Accounts[Sign] ), [SUM GL Amt] * Accounts[Sign] )
">
  </button>
</div>
<pre><code class="language-DAX">GL Amt (Additive Amts) :=
SUMX ( VALUES ( Accounts[Sign] ), [SUM GL Amt] * Accounts[Sign] )
</code></pre>

<h3 id="gl-amt-display-amts">GL Amt (Display Amts)</h3>

<div class="copy-code-container">
  <span class="language-name" aria-label="Language name: DAX">DAX</span>
  <button class="copy-code-button" aria-label="Copy code block to your clipboard" data-code="
GL Amt (Display Amts):=
SUMX ( VALUES ( Accounts[Report Sign] ), [SUM GL Amt] * Accounts[Report Sign] )
">
  </button>
</div>
<pre><code class="language-DAX">GL Amt (Display Amts):=
SUMX ( VALUES ( Accounts[Report Sign] ), [SUM GL Amt] * Accounts[Report Sign] )
</code></pre>

<h3 id="-additive-total">% Additive Total</h3>

<div class="copy-code-container">
  <span class="language-name" aria-label="Language name: DAX">DAX</span>
  <button class="copy-code-button" aria-label="Copy code block to your clipboard" data-code="
% Additive Total :=
VAR NetSales =
    CALCULATE (
        [Running Total Amts],
        ALL ( Headers ),
        Headers[Header] = &quot;Net Sales&quot;
    )
VAR HeaderLevelThisStep =
    MIN ( Headers[Header ID] )
VAR HeaderLevelPriorStep = HeaderLevelThisStep - 1
VAR Result =
    DIVIDE (
        CALCULATE (
            [GL Amt (Display Amts)],
            ALL ( Headers ),
            Headers[Header ID] = HeaderLevelPriorStep
        ),
        NetSales
    )
RETURN
    Result
">
  </button>
</div>
<pre><code class="language-DAX">% Additive Total :=
VAR NetSales =
    CALCULATE (
        [Running Total Amts],
        ALL ( Headers ),
        Headers[Header] = "Net Sales"
    )
VAR HeaderLevelThisStep =
    MIN ( Headers[Header ID] )
VAR HeaderLevelPriorStep = HeaderLevelThisStep - 1
VAR Result =
    DIVIDE (
        CALCULATE (
            [GL Amt (Display Amts)],
            ALL ( Headers ),
            Headers[Header ID] = HeaderLevelPriorStep
        ),
        NetSales
    )
RETURN
    Result
</code></pre>

<h3 id="-running-total">% Running Total</h3>

<div class="copy-code-container">
  <span class="language-name" aria-label="Language name: DAX">DAX</span>
  <button class="copy-code-button" aria-label="Copy code block to your clipboard" data-code="
% Running Total :=
VAR NetSales =
    CALCULATE (
        [Running Total Amts],
        ALL ( Headers ),
        Headers[Header] = &quot;Net Sales&quot;
    )
VAR Result =
    DIVIDE ( [Running Total Amts], NetSales )
RETURN
    Result
">
  </button>
</div>
<pre><code class="language-DAX">% Running Total :=
VAR NetSales =
    CALCULATE (
        [Running Total Amts],
        ALL ( Headers ),
        Headers[Header] = "Net Sales"
    )
VAR Result =
    DIVIDE ( [Running Total Amts], NetSales )
RETURN
    Result
</code></pre>

<h3 id="magic-additive-total">Magic Additive Total</h3>

<div class="copy-code-container">
  <span class="language-name" aria-label="Language name: DAX">DAX</span>
  <button class="copy-code-button" aria-label="Copy code block to your clipboard" data-code="
Magic Additive Total :=
VAR isSubHeaderFiltered =
    ISFILTERED ( Subheader[Subheader] )
VAR isHeaderFiltered =
    ISFILTERED ( Headers[Header] )
VAR isEitherFiltered =
    OR ( isSubHeaderFiltered, isHeaderFiltered )
VAR Result =
    IF ( isEitherFiltered, [GL Amt (Display Amts)], [GL Amt (Additive Amts)] )
RETURN
    Result
">
  </button>
</div>
<pre><code class="language-DAX">Magic Additive Total :=
VAR isSubHeaderFiltered =
    ISFILTERED ( Subheader[Subheader] )
VAR isHeaderFiltered =
    ISFILTERED ( Headers[Header] )
VAR isEitherFiltered =
    OR ( isSubHeaderFiltered, isHeaderFiltered )
VAR Result =
    IF ( isEitherFiltered, [GL Amt (Display Amts)], [GL Amt (Additive Amts)] )
RETURN
    Result
</code></pre>

<h3 id="running-total-amts">Running Total Amts</h3>

<div class="copy-code-container">
  <span class="language-name" aria-label="Language name: DAX">DAX</span>
  <button class="copy-code-button" aria-label="Copy code block to your clipboard" data-code="
Running Total Amts :=
VAR ThisHeaderID =
    MIN ( Headers[Header ID] )
VAR Result =
    CALCULATE (
        [Magic Additive Total],
        ALL ( Headers ),
        Headers[Header ID] &lt;= ThisHeaderID
    )
RETURN
    Result
">
  </button>
</div>
<pre><code class="language-DAX">Running Total Amts :=
VAR ThisHeaderID =
    MIN ( Headers[Header ID] )
VAR Result =
    CALCULATE (
        [Magic Additive Total],
        ALL ( Headers ),
        Headers[Header ID] &lt;= ThisHeaderID
    )
RETURN
    Result
</code></pre>

<h3 id="total-display-amts">Total Display Amts</h3>

<div class="copy-code-container">
  <span class="language-name" aria-label="Language name: DAX">DAX</span>
  <button class="copy-code-button" aria-label="Copy code block to your clipboard" data-code="
Total Display Amts :=
VAR CalcType =
    MAX ( Headers[Calc Type] ) // should it be a Simple Total or a Running Total
VAR DisplayHeaderCode =
    MAX ( Headers[Detail] ) // 1 if the detail should display and 0 if the detail should be hidden
VAR DisplaySubHeaderCode =
    MAX ( Subheader[Subheader Detail] ) // 1 if the detail should display and 0 if the detail should be hidden
VAR isSubHeaderVisible =
    ISFILTERED ( Subheader[Subheader] ) // we need to know if the SubHeader is trying to show itself
VAR isGLAccountVisible =
    ISFILTERED ( Accounts[Account Name] ) // we need to know if the GL Accountis trying to show itself
VAR Result =
    SWITCH (
        TRUE (),
        isSubHeaderVisible = TRUE ()
            &amp;&amp; DisplayHeaderCode = 0, BLANK (),
        isGLAccountVisible = TRUE ()
            &amp;&amp; DisplaySubHeaderCode = 0, BLANK (),
        CalcType = 1, [Magic Additive Total],
        CalcType = 2, [Running Total Amts],
        CalcType = 3, [% Additive Total],
        CalcType = 4, [% Running Total]
    )
RETURN
    Result
">
  </button>
</div>
<pre><code class="language-DAX">Total Display Amts :=
VAR CalcType =
    MAX ( Headers[Calc Type] ) // should it be a Simple Total or a Running Total
VAR DisplayHeaderCode =
    MAX ( Headers[Detail] ) // 1 if the detail should display and 0 if the detail should be hidden
VAR DisplaySubHeaderCode =
    MAX ( Subheader[Subheader Detail] ) // 1 if the detail should display and 0 if the detail should be hidden
VAR isSubHeaderVisible =
    ISFILTERED ( Subheader[Subheader] ) // we need to know if the SubHeader is trying to show itself
VAR isGLAccountVisible =
    ISFILTERED ( Accounts[Account Name] ) // we need to know if the GL Accountis trying to show itself
VAR Result =
    SWITCH (
        TRUE (),
        isSubHeaderVisible = TRUE ()
            &amp;&amp; DisplayHeaderCode = 0, BLANK (),
        isGLAccountVisible = TRUE ()
            &amp;&amp; DisplaySubHeaderCode = 0, BLANK (),
        CalcType = 1, [Magic Additive Total],
        CalcType = 2, [Running Total Amts],
        CalcType = 3, [% Additive Total],
        CalcType = 4, [% Running Total]
    )
RETURN
    Result
</code></pre>

<h3 id="actuals">Actuals[$]</h3>

<div class="copy-code-container">
  <span class="language-name" aria-label="Language name: DAX">DAX</span>
  <button class="copy-code-button" aria-label="Copy code block to your clipboard" data-code="
Actuals[$] :=
CALCULATE ( [Total Display Amts], Scenarios[ScenarioName] = &quot;Actual&quot; )
">
  </button>
</div>
<pre><code class="language-DAX">Actuals[$] :=
CALCULATE ( [Total Display Amts], Scenarios[ScenarioName] = "Actual" )
</code></pre>

<h3 id="budget">Budget[$]</h3>

<div class="copy-code-container">
  <span class="language-name" aria-label="Language name: DAX">DAX</span>
  <button class="copy-code-button" aria-label="Copy code block to your clipboard" data-code="
Budget[$] :=
CALCULATE ( [Total Display Amts], Scenarios[ScenarioName] = &quot;Budget&quot; )
">
  </button>
</div>
<pre><code class="language-DAX">Budget[$] :=
CALCULATE ( [Total Display Amts], Scenarios[ScenarioName] = "Budget" )
</code></pre>

<h3 id="variance">Variance</h3>

<div class="copy-code-container">
  <span class="language-name" aria-label="Language name: DAX">DAX</span>
  <button class="copy-code-button" aria-label="Copy code block to your clipboard" data-code="
Variance :=
[Actuals [$]]] - [Budget [$]]]
">
  </button>
</div>
<pre><code class="language-DAX">Variance :=
[Actuals [$]]] - [Budget [$]]]
</code></pre>

<h3 id="variance-1">Variance[%]</h3>

<div class="copy-code-container">
  <span class="language-name" aria-label="Language name: DAX">DAX</span>
  <button class="copy-code-button" aria-label="Copy code block to your clipboard" data-code="
Variance[%] :=
DIVIDE ( [Variance], [Budget [$]]], BLANK () )
">
  </button>
</div>
<pre><code class="language-DAX">Variance[%] :=
DIVIDE ( [Variance], [Budget [$]]], BLANK () )
</code></pre>


                        
                        
                    </main>	
                    
                        <!-- Start of Feedback section -->
<section class="feedback-section is-relative">
    <h2 id="feedback" class="is-size-2 has-margin-top-large has-padding-top-medium"> Feedback </h2>
    <div class="feedback has-margin-top-small has-margin-bottom-none">
        <p id="send-feedback-about" class="has-margin-top-none has-margin-bottom-none">
            Submit and view feedback
        </p>
        <div id="feedback-section-link" class="has-margin-top-large has-margin-bottom-none">
            <a class="button has-margin-bottom-small" href="" target="_blank">
                <span class="icon">
                    <span class=github>
                        <i class="fab fa-github"></i>
                    </span>
                </span>
                <span>This page</span>
            </a>
        </div>
    </div>
    <div id="viewallfeedback-section-link" class="is-flex has-flex-justify-content-end has-margin-top-small has-margin-bottom-medium">
        <a class="view-on-github" href="" target="_blank">
            <span class="icon">
                <span class=github>
                    <i class="fab fa-github"></i>
                </span>
            </span><span>View all page feedback</span>
        </a>
    </div>
</section>

<!-- End of Feedback section -->
                    
                </div>

                
                 <!-- Right Hand Side Toc-->
                 <div class="right-sidebar column is-one-quarter is-one-fifth-desktop is-hidden-mobile is-hidden-tablet-only">
                    <nav class="doc-outline is-fixed is-vertically-scrollable", id="affixed-right-sidebar">
                        <nav id="side-doc-outline">
                            <header id="side-doc-title" class = "is-flex is-flex-row">
                                <div>
                                    <a href="#top">
                                        <h3 title="Go to Top of Page">
                                            <i class="fas fa-file-alt" style="color:#e82127;">&nbsp;</i>
                                            In this article
                                        </h3>
                                    </a>
                                </div>
                            </header>
                            <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#finance---pl-tracking--customised--nested-pivot-tables">Finance - P&amp;L Tracking – Customised &amp; Nested Pivot Tables</a></li>
<li class="toc-entry toc-h2"><a href="#data-inputs">Data Inputs</a>
<ul>
<li class="toc-entry toc-h3"><a href="#dimensions">Dimensions</a></li>
<li class="toc-entry toc-h3"><a href="#accounts-structure">Accounts Structure</a></li>
<li class="toc-entry toc-h3"><a href="#general-ledger">General Ledger</a></li>
<li class="toc-entry toc-h3"><a href="#pl-tracking-measures">P&amp;L Tracking Measures</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#dashboard---snippet">Dashboard - Snippet</a></li>
<li class="toc-entry toc-h2"><a href="#data-model---snippet">Data Model - Snippet</a></li>
<li class="toc-entry toc-h2"><a href="#measures">Measures</a>
<ul>
<li class="toc-entry toc-h3"><a href="#sum-gl-amt">SUM GL Amt</a></li>
<li class="toc-entry toc-h3"><a href="#gl-amt-additive-amts">GL Amt (Additive Amts)</a></li>
<li class="toc-entry toc-h3"><a href="#gl-amt-display-amts">GL Amt (Display Amts)</a></li>
<li class="toc-entry toc-h3"><a href="#-additive-total">% Additive Total</a></li>
<li class="toc-entry toc-h3"><a href="#-running-total">% Running Total</a></li>
<li class="toc-entry toc-h3"><a href="#magic-additive-total">Magic Additive Total</a></li>
<li class="toc-entry toc-h3"><a href="#running-total-amts">Running Total Amts</a></li>
<li class="toc-entry toc-h3"><a href="#total-display-amts">Total Display Amts</a></li>
<li class="toc-entry toc-h3"><a href="#actuals">Actuals[$]</a></li>
<li class="toc-entry toc-h3"><a href="#budget">Budget[$]</a></li>
<li class="toc-entry toc-h3"><a href="#variance">Variance</a></li>
<li class="toc-entry toc-h3"><a href="#variance-1">Variance[%]</a></li>
</ul>
</li>
</ul>
                        </nav>

                        <!-- Fixed Element-->
                        <div>
                            <a class="top-link hide" href="" id="js-top" title="Go to Top of Page">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6"><path d="M12 6H0l6-6z"/></svg>
                            </a>
                        </div>
                    </nav>
                </div>
                
            </div>
            <!-- end of /.columns -->
        </div>	
        <!-- end of /primary holder -->

    </div>
    <!-- end of /.columns -->
</div>
<!-- end of /.mainContainer -->
			<!-- Footer Container --> 
<div class="footerContainer">

    
    

    <footer id="footer" class=" footer-layout   uhf-container has-padding">
        <div class="">
            <a href="https://startech-enterprises.github.io/docs/">
                <img src="/../docs/assets/images/starbase_logo.png" class="footer-bar-logo">
            </a>
        </div>
        <div class="is-flex is-full-height has-padding-right-extra-large-desktop has-padding-left-extra-large-desktop">
            <a class="locale-selector-link has-flex-shrink-none" href="/../">
                <span class="icon">
                    <span><i class="fas fa-globe"></i></span>
                </span>
                <span class="locale-selector-link-text">English (United Kingdom)</span>
            </a>
        </div>
        <ul class="links">
            <li>
                <a href="/docs/">Docs</a>
            </li>
            <li>
                <a href="/docs/">Guides</a>
            </li>
            <li>
                <a href="/docs/articles-and-blogs/article-search.html">Articles & Blogs</a>
            </li>
            <li>
                <a href="/docs/videos/">Videos</a>
            </li>
            <li>
                <a href="/docs/about/about.html">About</a>
            </li>
            <li>
                <a href="https://www.linkedin.com/company/startech-enterprises/" target="_blank">LinkedIn</a>
            </li>
            <li style="color: #e82127;">
                <span class="icon">
                    <span> <i class="fas fa-star"></i></span>
                </span>Star Base 2020
            </li>
        </ul>
    </footer>
</div>
<!-- end of / footerContainer -->
	</body>
		<!-- Reference to main JavaScript Files -->
<script src="/../docs/assets/js/library.js" type="application/javascript"></script>
<script src="/../docs/assets/js/breadCrumb.js" type="application/javascript"></script>
<script src="/../docs/assets/js/navbar.js" type="application/javascript"></script>
<script src="/../docs/assets/js/affix.js" type="application/javascript"></script>
<script src="/../docs/assets/js/rhsToc.js" type="application/javascript"></script>




<script src="/../docs/assets/js/scrollTop.js" type="application/javascript"></script>
<script src="/../docs/assets/js/gitFeedback.js" type="application/javascript"></script>
<script src="/../docs/assets/js/copyCode.js" type="application/javascript"></script>
</html>
